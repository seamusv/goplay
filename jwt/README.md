# JWT Support

Authentication tokens are to be passed on each server request. The expiry is purposely short to prevent stolen keys from
being used outside the time window. The refresh token is long-lived and will allow for new authentication tokens to be
generated.

The refresh token does not contain any identifiable information as its value is to be used to look up a value that can
be used to query actual data.

## Create Tokens

Function: `Create`

- a short-lived access token which contains a signed claim of any details that should be passed for each server
  call.
- a long-lived refresh token containing a random KSUID key (a smaller UUID value).

Claims are generated by passing a `lookup key` and a function to use the key to return values such as a database. These
values will be sent for each server request and should contain as many details necessary for the function to complete in
a stateless fashion.

A random key is generated and persisted with the `lookup key`. The `refresh token` will sign this random key.

## Exchange Tokens

Function `Exchange`

The refresh token and the claims builder function are passed. Once the refresh token has been parsed and verified,
the `lookup key` will be used to generate a new access token.

## Parsing Tokens

Function `Parse`

The token will be parsed and verified and return the claims that were previously generated.